<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>AIãƒãƒ¼ãƒˆæ•´ç†ãã‚“</title>
<style>
body { font-family: sans-serif; margin: 30px; background: #f6f8fa; }
h1 { color: #333; }
#result { white-space: pre-wrap; background: white; padding: 10px; border-radius: 6px; margin-top: 10px; }
button { margin-top: 10px; padding: 10px 20px; }
</style>
</head>
<body>
  <h1>ğŸ“˜ AIãƒãƒ¼ãƒˆæ•´ç†ãã‚“ï¼ˆä½“é¨“ç‰ˆï¼‰</h1>
  <p>ãƒ¡ãƒ¢ã‚„æ•™ç§‘æ›¸ã®å†™çœŸã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ã¦ãã ã•ã„ã€‚</p>
  <input type="file" id="imageInput" accept="image/*">
  <button onclick="processImage()">AIã§æ•´ç†ã™ã‚‹</button>

  <div id="result"></div>

<script>
async function processImage() {
  const file = document.getElementById('imageInput').files[0];
  if (!file) {
    alert('ç”»åƒã‚’é¸ã‚“ã§ãã ã•ã„');
    return;
  }

  document.getElementById('result').innerText = "ğŸ“¸ ç”»åƒã‚’å‡¦ç†ä¸­...";

  // OCRï¼ˆæ–‡å­—èµ·ã“ã—ï¼‰APIã‚’å‘¼ã¶
  const formData = new FormData();
  formData.append("file", file);

  // ç„¡æ–™OCR APIï¼ˆapi.ocr.spaceï¼‰ã‚’ä½¿ç”¨
  const res = await fetch("https://api.ocr.space/parse/image", {
    method: "POST",
    headers: { "apikey": "helloworld" }, // ç„¡æ–™ãƒ†ã‚¹ãƒˆã‚­ãƒ¼
    body: formData
  });
  const data = await res.json();
  const text = data.ParsedResults?.[0]?.ParsedText || "(æ–‡å­—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ)";
  
  // OpenAIãªã©ã«æŠ•ã’ã‚‹ä»£ã‚ã‚Šã«ã€ã“ã“ã§ã¯ç°¡å˜ãªæ•´ç†ã‚’æ¨¡å€£
  const summary = text.slice(0, 200).replace(/\s+/g, " ");
  const fakeAIResult = `
ã€æŠ½å‡ºã•ã‚ŒãŸæ–‡å­—ã€‘:
${text}

ã€AIæ•´ç†ã‚µãƒãƒªãƒ¼ã€‘:
${summary.length > 0 ? summary + "..." : "æ–‡ç« ãŒçŸ­ã™ãã¾ã™ã€‚"}
`;

  document.getElementById('result').innerText = fakeAIResult;
}
</script>
</body>
</html>
